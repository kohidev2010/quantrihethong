âœ… TOÃ€N Bá»˜ TRÃŒNH Tá»° Cáº¤U HÃŒNH CA VÃ€ HTTPS CÃ“ SAN
ğŸŸ© PHáº¦N A â€“ CÃ€I Äáº¶T CA Ná»˜I Bá»˜ TRÃŠN SERVER-CA
ğŸ”§ 1. CÃ i Role CA (Certification Authority)
TrÃªn SERVER-CA:

Má»Ÿ Server Manager â†’ Add Roles and Features

Nháº¥n Next Ä‘áº¿n bÆ°á»›c Select server roles â†’ tick:
âœ… Active Directory Certificate Services

Báº¥m Next Ä‘áº¿n pháº§n Role Services, chá»n:
âœ… Certification Authority
(náº¿u báº¡n muá»‘n dÃ¹ng web ná»™p chá»©ng chá»‰ nhÆ° http://localhost/certsrv, tick thÃªm âœ… Web Enrollment)

Next â†’ Install

ğŸ”§ 2. Cáº¥u hÃ¬nh CA
Sau khi cÃ i xong â†’ báº¥m "Configure Active Directory Certificate Services on this server"

Credentials: Ä‘á»ƒ máº·c Ä‘á»‹nh (Administrator)

Role Service: chá»n âœ… Certification Authority

Setup type: chá»n âœ… Enterprise CA

CA type: chá»n âœ… Root CA

Private key: chá»n âœ… Create a new private key

CÃ²n láº¡i giá»¯ máº·c Ä‘á»‹nh â†’ Next â†’ Configure â†’ Close

â†’ âœ… CA Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ cáº¥p chá»©ng chá»‰

ğŸŸ© PHáº¦N B â€“ Táº O YÃŠU Cáº¦U CHá»¨NG CHá»ˆ CÃ“ SAN TRÃŠN WEB SERVER
ğŸ”§ 3. Má»Ÿ MMC vÃ  táº¡o Certificate Request
TrÃªn mÃ¡y cháº¡y web (IIS):

Nháº¥n Windows + R â†’ gÃµ mmc â†’ Enter

Menu: File > Add/Remove Snap-inâ€¦
â†’ Add: Certificates > Computer account > Local computer â†’ OK

Má»Ÿ:

scss
Sao chÃ©p
Chá»‰nh sá»­a
Certificates (Local Computer)
â””â”€ Personal
   â””â”€ Certificates
Chuá»™t pháº£i vÃ o Certificates â†’ chá»n:
All Tasks > Advanced Operations > Create Custom Request...

Wizard hiá»‡n ra:

Chá»n: Proceed without enrollment policy â†’ Next

Template: (No template) CNG key â†’ Next

Nháº¥n Details > Properties

ğŸ”§ 4. Nháº­p thÃ´ng tin CN vÃ  SAN
Trong cá»­a sá»• Certificate Properties:

Tab Subject:

Subject Name â†’ Common Name: www.kohi.com â†’ Add

Alternative Name â†’ DNS: www.kohi.com â†’ Add

Tab Private Key:

Má»Ÿ â€œKey Optionsâ€

Tick: âœ… Make private key exportable

â†’ Nháº¥n OK â†’ Next
â†’ Chá»n Base 64 encoded
â†’ LÆ°u file: www_kohi_com.req

ğŸŸ© PHáº¦N C â€“ Gá»¬I YÃŠU Cáº¦U VÃ€ NHáº¬N CHá»¨NG CHá»ˆ Tá»ª CA
ğŸ”§ 5. Gá»­i yÃªu cáº§u báº±ng Web Enrollment
TrÃªn SERVER-CA, má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p:

arduino
Sao chÃ©p
Chá»‰nh sá»­a
http://localhost/certsrv
Chá»n: Request a certificate

â†’ Chá»n: Advanced certificate request

â†’ Chá»n: Submit a certificate request by using a base-64-encoded CMC or PKCS #10 file

Má»Ÿ file www_kohi_com.req báº±ng Notepad â†’ copy toÃ n bá»™ ná»™i dung

DÃ¡n vÃ o Ã´ "Saved Request"

Certificate Template: chá»n Web Server

â†’ Báº¥m Submit

Sau Ä‘Ã³ â†’ Download certificate â†’ lÆ°u láº¡i file .cer

ğŸ”§ 6. Import chá»©ng chá»‰ vÃ o mÃ¡y IIS
Trá»Ÿ láº¡i MMC trÃªn mÃ¡y IIS

Chuá»™t pháº£i vÃ o Personal > Certificates â†’ All Tasks > Import

Chá»n file .cer báº¡n vá»«a táº£i vá»

ğŸŸ© PHáº¦N D â€“ GÃN CHá»¨NG CHá»ˆ VÃ€O WEBSITE TRONG IIS
ğŸ”§ 7. GÃ¡n cert cho website HTTPS
Má»Ÿ IIS Manager

Chá»n Default Web Site (hoáº·c website cá»§a báº¡n)

Nháº¥n Bindings... â†’ nháº¥n Add hoáº·c Edit dÃ²ng https

Type: https

SSL certificate: chá»n chá»©ng chá»‰ www.kohi.com

Nháº¥n OK â†’ cháº¡y iisreset Ä‘á»ƒ khá»Ÿi Ä‘á»™ng láº¡i IIS

ğŸŸ© PHáº¦N E â€“ KIá»‚M TRA Tá»ª MÃY CLIENT
TrÃªn Win10 Ä‘Ã£ join domain:

Má»Ÿ Edge / Chrome

GÃµ: https://www.kohi.com

Náº¿u thÃ nh cÃ´ng:

Hiá»‡n á»• khÃ³a ğŸ”’

KhÃ´ng bÃ¡o lá»—i chá»©ng chá»‰

Xem View Certificate â†’ tab Details â†’ cÃ³ má»¥c:

pgsql
Sao chÃ©p
Chá»‰nh sá»­a
Subject Alternative Name
DNS Name = www.kohi.com